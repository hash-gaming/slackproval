<table class="table">
  <thead>
    <tr>
      <th scope="col">Email</th>
      <th scope="col">Reason</th>
      <th colspan="1" style="width: 1px;"></th>
    </tr>
  </thead>

  <tbody>
    <% requests.each do |request| %>
      <tr>
        <td><%= request.email %></td>
        <td><%= request.reason %></td>
        <td>
          <div class="btn-group" role="group">
            <% unless params[:filter] == "approved"%>
              <%= link_to fa_icon("check"), approve_request_path(request, filter: params[:filter]), method: :put, class: "btn btn-success btn-sm"%>
              <% unless params[:filter] == "denied"%>
                <%= link_to fa_icon("times"), deny_request_path(request, filter: params[:filter]), class: "btn btn-warning btn-sm"%>
              <% end %>
            <% end%>
            <%= link_to fa_icon("trash"), request, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger btn-sm" %>
          </div>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
